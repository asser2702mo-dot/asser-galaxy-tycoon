<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ASSER GALAXY: GOD MODE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --main-cyan: #00f2ff; --gold: #ffd700; --red: #ff0044; --neon-blue: #0077ff; }
        body { margin: 0; overflow: hidden; background: #020205; font-family: 'Orbitron', sans-serif; touch-action: none; color: white; user-select: none; }
        
        /* ŸÅÿ∂ÿßÿ° ÿπŸÖŸäŸÇ */
        #bg { position: fixed; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at center, #0a0a2e 0%, #020205 100%); }
        .star { position: absolute; background: white; border-radius: 50%; animation: fall linear infinite; }
        @keyframes fall { from { transform: translateY(-10vh); } to { transform: translateY(110vh); } }

        /* ÿßŸÑŸÇŸàÿßÿ¶ŸÖ */
        .overlay { position: absolute; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 500; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); transition: 0.5s; }
        h1 { font-size: 45px; text-transform: uppercase; letter-spacing: 5px; color: var(--main-cyan); text-shadow: 0 0 30px var(--main-cyan); margin: 0; text-align: center; }
        
        .stat-card { background: rgba(255,255,255,0.05); border: 1px solid var(--main-cyan); padding: 15px 30px; border-radius: 50px; margin: 10px; font-size: 20px; box-shadow: 0 0 15px rgba(0,242,255,0.2); }
        .btn { padding: 15px 40px; font-size: 20px; font-weight: 900; background: none; color: white; border: 2px solid var(--main-cyan); border-radius: 5px; cursor: pointer; transition: 0.3s; margin: 10px; text-transform: uppercase; }
        .btn:hover { background: var(--main-cyan); color: black; box-shadow: 0 0 40px var(--main-cyan); transform: scale(1.1); }

        /* ÿßŸÑŸÑÿπÿ®ÿ© */
        #game-ui { position: absolute; top: 0; width: 100%; padding: 20px; box-sizing: border-box; z-index: 400; display: flex; justify-content: space-between; font-size: 18px; text-shadow: 0 0 10px black; }
        #player { position: absolute; bottom: 80px; font-size: 60px; z-index: 100; transform: translateX(-50%); filter: drop-shadow(0 0 15px var(--main-cyan)); transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .enemy { position: absolute; font-size: 40px; z-index: 50; filter: drop-shadow(0 0 10px var(--red)); }
        .boss { position: absolute; font-size: 100px; z-index: 60; filter: drop-shadow(0 0 30px var(--red)); text-align: center; }
        .boss-bar { width: 100px; height: 10px; background: #333; border: 1px solid white; border-radius: 5px; overflow: hidden; margin-bottom: 5px; }
        .boss-hp { height: 100%; background: var(--red); width: 100%; transition: 0.3s; }
        
        .powerup { position: absolute; font-size: 30px; z-index: 70; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        
        .explosion { position: absolute; pointer-events: none; animation: explode 0.5s forwards; z-index: 80; }
        @keyframes explode { 0% { transform: scale(0); opacity: 1; } 100% { transform: scale(3); opacity: 0; } }

        #screen-flash { position: fixed; width: 100%; height: 100%; background: white; opacity: 0; pointer-events: none; z-index: 1000; }
    </style>
</head>
<body>

    <div id="bg"></div>
    <div id="screen-flash"></div>

    <div id="lobby" class="overlay">
        <p style="color:var(--gold); margin:0;">WELCOME TO THE GALAXY</p>
        <h1>ASSER GALAXY<br><span style="color:white; font-size: 20px;">GOD MODE EDITION</span></h1>
        <div class="stat-card">üí∞ COINS: <span id="l-coins">0</span></div>
        <div class="stat-card" style="border-color: var(--gold);">üèÜ BEST: <span id="l-high">0</span></div>
        <button class="btn" onclick="startGame()">ENTER BATTLE</button>
        <button class="btn" style="border-color: var(--gold); color: var(--gold);" onclick="toggleShop(true)">UPGRADE SHIP</button>
    </div>

    <div id="shop" class="overlay" style="display:none;">
        <h1 style="color:var(--gold)">THE HANGAR</h1>
        <div id="preview" style="font-size: 100px; margin: 20px; filter: drop-shadow(0 0 20px var(--main-cyan));">üõ∏</div>
        <p id="ship-info" style="text-align:center; color:#aaa;">Level 1: Basic Scout Ship</p>
        <div class="stat-card">Price: <span id="price-tag">500</span> üí∞</div>
        <button class="btn" id="upgrade-btn" onclick="buyUpgrade()">EVOLVE SHIP</button>
        <button class="btn" onclick="toggleShop(false)">RETURN</button>
    </div>

    <div id="game-over" class="overlay" style="display:none;">
        <h1 style="color:var(--red); font-size: 60px;">DESTROYED</h1>
        <p style="font-size: 25px;">SCORE: <span id="final-score">0</span></p>
        <button class="btn" onclick="location.reload()">REBOOT SYSTEM</button>
    </div>

    <div id="game-ui" style="display:none;">
        <div>
            <div id="lives-ui" style="font-size: 25px;">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
            <div style="color:var(--gold)">üí∞ <span id="g-coins">0</span></div>
        </div>
        <div style="text-align:right;">
            <div style="font-size: 25px; color:var(--main-cyan)">‚≠ê <span id="g-score">0</span></div>
            <div id="status-text" style="font-size: 12px; color: var(--main-cyan);">SYSTEM ONLINE</div>
        </div>
    </div>

    <div id="player" style="display:none;">üõ∏</div>

<script>
    // ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©
    const config = {
        ships: [
            {icon: 'üõ∏', name: 'Scout Ship', speed: 5, hp: 3},
            {icon: 'üöÄ', name: 'Interstellar Raider', speed: 7, hp: 4},
            {icon: '‚úàÔ∏è', name: 'Plasma Fighter', speed: 9, hp: 5},
            {icon: 'üõ∞Ô∏è', name: 'Galaxy Destroyer', speed: 11, hp: 6},
            {icon: '‚òÑÔ∏è', name: 'GOD MODE SHIP', speed: 15, hp: 8}
        ],
        enemies: ['üëæ', 'üëΩ', 'üõ∏', 'üõ∞Ô∏è', 'üí•'],
        powerups: ['üõ°Ô∏è', '‚ö°', 'üí£']
    };

    let coins = parseInt(localStorage.getItem('asser_coins')) || 0;
    let level = parseInt(localStorage.getItem('asser_level')) || 1;
    let high = parseInt(localStorage.getItem('asser_high')) || 0;
    let gameActive = false;
    let score = 0;
    let currentHP = 3;
    let isShielded = false;

    // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
    function updateUI() {
        document.getElementById('l-coins').innerText = coins;
        document.getElementById('g-coins').innerText = coins;
        document.getElementById('l-high').innerText = high;
        document.getElementById('preview').innerText = config.ships[level-1].icon;
        document.getElementById('ship-info').innerText = config.ships[level-1].name;
        document.getElementById('price-tag').innerText = level * 1000;
        document.getElementById('player').innerText = config.ships[level-1].icon;
    }

    function toggleShop(show) {
        document.getElementById('lobby').style.display = show ? 'none' : 'flex';
        document.getElementById('shop').style.display = show ? 'flex' : 'none';
        updateUI();
    }

    function buyUpgrade() {
        let cost = level * 1000;
        if(coins >= cost && level < 5) {
            coins -= cost; level++;
            saveData(); updateUI();
            flashScreen('gold');
        } else if(level >= 5) { alert("YOU ARE AT MAX POWER!"); }
        else { alert("NEED MORE COINS!"); }
    }

    function saveData() {
        localStorage.setItem('asser_coins', coins);
        localStorage.setItem('asser_level', level);
        localStorage.setItem('asser_high', high);
    }

    // ŸÖŸäŸÉÿßŸÜŸäŸÉÿß ÿßŸÑŸÑÿπÿ®ÿ©
    function startGame() {
        document.getElementById('lobby').style.display = 'none';
        document.getElementById('game-ui').style.display = 'flex';
        document.getElementById('player').style.display = 'block';
        gameActive = true; score = 0; 
        currentHP = config.ships[level-1].hp;
        renderLives();
        gameLoop();
    }

    function renderLives() {
        document.getElementById('lives-ui').innerText = "‚ù§Ô∏è".repeat(currentHP);
    }

    function flashScreen(color) {
        const f = document.getElementById('screen-flash');
        f.style.background = color;
        f.style.opacity = '0.5';
        setTimeout(() => f.style.opacity = '0', 100);
    }

    // ÿßŸÑÿ™ÿ≠ŸÉŸÖ (ŸÑŸÖÿ≥ Ÿàÿ≠ÿ±ŸÉÿ©)
    window.addEventListener('touchmove', (e) => {
        if(!gameActive) return;
        let x = e.touches[0].clientX;
        document.getElementById('player').style.left = x + 'px';
    });

    function gameLoop() {
        if(!gameActive) return;
        
        // ŸÅÿ±ÿµÿ© ÿ∏ŸáŸàÿ± ÿπÿØŸà ÿ£Ÿà ÿ∑ÿßŸÇÿ© ÿ£Ÿà Ÿàÿ≠ÿ¥
        if(Math.random() < 0.05) spawnEnemy();
        if(Math.random() < 0.005) spawnPowerUp();
        if(score > 0 && score % 1000 === 0) spawnBoss();

        requestAnimationFrame(() => {}); // ÿ≥Ÿäÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿπÿ®ÿ± ÿßŸÑŸÄ intervals ŸÅŸä spawn
    }

    function spawnEnemy() {
        const e = document.createElement('div');
        e.className = 'enemy';
        e.innerText = config.enemies[Math.floor(Math.random()*config.enemies.length)];
        e.style.left = Math.random()*90 + 'vw';
        e.style.top = '-50px';
        document.body.appendChild(e);

        let speed = 5 + (score/500);
        let move = setInterval(() => {
            if(!gameActive) { clearInterval(move); e.remove(); return; }
            let top = parseFloat(e.style.top);
            e.style.top = (top + speed) + 'px';

            // ÿ™ÿµÿßÿØŸÖ ŸÖÿπ ÿßŸÑŸÑÿßÿπÿ®
            let pRect = document.getElementById('player').getBoundingClientRect();
            let eRect = e.getBoundingClientRect();

            if(checkCollision(pRect, eRect)) {
                if(isShielded) {
                    createExplosion(eRect.left, eRect.top);
                    score += 50;
                } else {
                    currentHP--; renderLives();
                    flashScreen('red');
                    if(currentHP <= 0) gameOver();
                }
                clearInterval(move); e.remove();
            }

            if(top > window.innerHeight) {
                clearInterval(move); e.remove();
                score += 10; document.getElementById('g-score').innerText = score;
            }
        }, 20);
    }

    function spawnPowerUp() {
        const p = document.createElement('div');
        p.className = 'powerup';
        const type = config.powerups[Math.floor(Math.random()*3)];
        p.innerText = type;
        p.style.left = Math.random()*90 + 'vw';
        p.style.top = '-50px';
        document.body.appendChild(p);

        let move = setInterval(() => {
            let top = parseFloat(p.style.top);
            p.style.top = (top + 4) + 'px';
            if(checkCollision(document.getElementById('player').getBoundingClientRect(), p.getBoundingClientRect())) {
                applyPowerUp(type);
                clearInterval(move); p.remove();
            }
            if(top > window.innerHeight) { clearInterval(move); p.remove(); }
        }, 20);
    }

    function applyPowerUp(type) {
        flashScreen('cyan');
        if(type === 'üõ°Ô∏è') {
            isShielded = true;
            document.getElementById('player').style.filter = 'drop-shadow(0 0 20px white)';
            setTimeout(() => { isShielded = false; document.getElementById('player').style.filter = 'drop-shadow(0 0 15px var(--main-cyan))'; }, 7000);
        } else if(type === '‚ö°') {
            coins += 200; updateUI();
        } else {
            // ÿßŸÜŸÅÿ¨ÿßÿ± ŸÉŸÑ ÿßŸÑÿ£ÿπÿØÿßÿ° ÿπŸÑŸâ ÿßŸÑÿ¥ÿßÿ¥ÿ©
            document.querySelectorAll('.enemy').forEach(el => {
                createExplosion(el.offsetLeft, el.offsetTop);
                el.remove();
                score += 20;
            });
        }
    }

    function spawnBoss() {
        const boss = document.createElement('div');
        boss.className = 'boss';
        boss.innerHTML = `<div class="boss-bar"><div id="bhp" class="boss-hp"></div></div>üëπ`;
        boss.style.left = '40%'; boss.style.top = '50px';
        document.body.appendChild(boss);
        
        let hp = 20;
        let moveX = 2;
        let bInt = setInterval(() => {
            let left = parseFloat(boss.style.left);
            if(left > 80 || left < 5) moveX *= -1;
            boss.style.left = (left + moveX) + '%';
            
            // ÿ∂ÿ±ÿ® ÿßŸÑŸàÿ≠ÿ¥ ÿπŸÜ ÿ∑ÿ±ŸäŸÇ ŸÑŸÖÿ≥Ÿá ÿ®ÿßŸÑŸÑÿßÿπÿ® (ÿßŸÜÿ™ÿ≠ÿßÿ±Ÿä)
            if(checkCollision(document.getElementById('player').getBoundingClientRect(), boss.getBoundingClientRect())) {
                hp--; 
                document.getElementById('bhp').style.width = (hp*5) + '%';
                if(hp <= 0) {
                    createExplosion(boss.offsetLeft, boss.offsetTop);
                    coins += 1000; score += 500;
                    clearInterval(bInt); boss.remove();
                }
            }
        }, 30);
    }

    function createExplosion(x, y) {
        const exp = document.createElement('div');
        exp.className = 'explosion';
        exp.innerText = 'üî•';
        exp.style.left = x + 'px'; exp.style.top = y + 'px';
        document.body.appendChild(exp);
        setTimeout(() => exp.remove(), 500);
    }

    function checkCollision(a, b) {
        return !(a.right < b.left || a.left > b.right || a.bottom < b.top || a.top > b.bottom);
    }

    function gameOver() {
        gameActive = false;
        document.getElementById('game-ui').style.display = 'none';
        document.getElementById('game-over').style.display = 'flex';
        document.getElementById('final-score').innerText = score;
        coins += Math.floor(score/10);
        if(score > high) high = score;
        saveData();
    }

    // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÜÿ¨ŸàŸÖ ŸÅŸä ÿßŸÑÿÆŸÑŸÅŸäÿ©
    for(let i=0; i<80; i++) {
        const s = document.createElement('div');
        s.className = 'star';
        s.style.width = Math.random()*3+'px';
        s.style.height = s.style.width;
        s.style.left = Math.random()*100+'vw';
        s.style.top = Math.random()*100+'vh';
        s.style.animationDuration = (Math.random()*3 + 2)+'s';
        document.getElementById('bg').appendChild(s);
    }

    updateUI();
    setInterval(gameLoop, 100);
</script>
</body>
</html>
